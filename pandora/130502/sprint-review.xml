<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="../deck1/slides.xsl"?>
<slides>
    <dependencies>
        <script src="http://openlayers.org/api/OpenLayers.js"></script>
        <link rel="stylesheet" href="extra/mnr-demo.css"/>
    </dependencies>

    <title>Sprint Review Pandora</title>

    <sprint>
        <started>2nd of May 2013</started>
        <ended>3rd of June 2013</ended>
        <productowner>Timothy Grymonpon</productowner>
        <scrummaster>Timothy Grymonpon</scrummaster>
        <teammembers>Charlotte, Christophe, Dominique, Jan, Jelle, Kevin, Pieter, Plamen, Rebekka</teammembers>
        <goal>
            <p>"Upgrade the process to TTOM 3.12/MN-R 1.7 model and release prototype 5"</p>
            <p>"Kick off TIF2TTOM development for Milestone 2 (Locality Index, Seaming and VW traffic signs)"</p>
            <p><cite style="float: right">Our product owner</cite></p>
        </goal>
    </sprint>

    <story epic="[MNR MAINT]" title="Package, document and release prototype 4&amp;5" status="done" sp="1">
        <slide>
            <h5>Release 2013.05</h5>
            <ul>
                <li>Released 2nd of may, 2013.</li>
                <li>With 18 new content layers <em>(Freeway intersections, Time domains, Restrictions, Level 2 roads, Administrative areas, ...)</em>.</li>
                <li>UC3 and D64, and incremental update on AND.</li>
	        <li>no feedback received</li>
            </ul>
            <h5>Release 2013.06</h5>
            <ul>
                <li>Slated for 6th of june, 2013.</li>
                <li>UC3 and D64, and incremental update on AND.</li>
                <li>Containing updates done for 3.12 TTOM and MN-R 1.7 model. (See next story).</li>
                <li>No new content.</li>
            </ul>
        </slide>
    </story>

    <story epic="[MNR INFRA]" title="Upgrade to TTOM 3.12 model and MN-R 1.7 model" status="done" sp="5">
        <slide>
            <h5>The converter is now using</h5>
            <ul>
                <li>TTOM 3.12</li>
                <li>Multinet-r 1.7</li>
            </ul>
            <h5>Some of the work done:</h5>
            <ul>
                <li>Integrated new MNR name model.</li>
                <li>Several updates to: Carto Brunnel Area, Land Cover and Use, Network Route, Rail, ...</li>
                <li>Updated integration tests to new model and added usecases for new capabilities.</li>
            </ul>
            <h5>Business value</h5>
            <ul>
                <li>Up-to-date with latest released TTOM model</li>
                <li>New naming model allows for correct name selection (when multiple translations are available).</li>
                <li>Ready for update to Multinet-r 1.8</li>
            </ul>
        </slide>
    </story>

    <story epic="[MNR LAYER]" title="Locality Index: Run Locality Index classic processes with TIF2TTOM and fix where broken" status="not-done" sp="2">
        <slide>
            <div style="font-weight:bold">
            <p>EPIC: Serve Localities as TTOM features</p>
            </div>
            <ul>
                <li>Step 1: Create locality index product during current TIF2TTOM converter</li>
                <em style="color: grey">
                <li>Step 2: Load locality index product back into PDS and serve them as TTOM features</li>
                </em>
            </ul>
            <p>Step 1:</p>
            <ul>
                <li>DONE:</li>
                <ul>
                   <li>Made independent of GDF sectioning process</li>
                   <li>Dataset based conversion part (of non-NAM locality index) has been ported to TTOM 3.12 model</li>
                </ul>
                <li>TODO:</li>
                <ul>
                   <li>Fix country based conversion part of non-NAM locality index</li>
                   <li>Validation: compare TTOM based locality index with MN based locality index</li>
                   <li>The biggest challenge: locality index NAM!</li>
                </ul>
            </ul>
        </slide>
    </story>

    <story epic="[MNR LAYER]" title="VW traffic signs part III implement VW traffic signs in TIF2TTOM" status="done" sp="3">
        <slide>
            <div style="float: right"><img src="img/ClearSigns.jpg"/></div>
            <div style="font-weight:bold">
            <p>EPIC: Deliver MNR VW Traffic Sign prototype product by mid July</p>
            </div>
            <ul>
                <em style="color: grey">
                <li>Sprint April:</li>
                    <ul>
                        <li>Create test cases in Hakuna Matata dataset (YG1)</li>
                    </ul>
                </em>
                <li>Current Sprint:</li>
                    <ul>
                       <li>Attend VW Cross Functional Team meetings</li>
                       <li>Collaboration with Specs to create TTOM model and Mapping document</li>
                       <li>Update TIF2TTOM converter 
                           <ul>
                               <li>Traffic Sign feature/attributes/associations</li>
                               <li>Overtaking Lane and Overtaking Restrictions attributes on Road Elements</li>
                               <li>Traffic Light feature/association</li>
                           </ul>
                       </li>
                       <li>Convert pilot test data (D64)</li>
                       <li>Test and create statistics on received and converted pilot test data</li>
                    </ul>
            </ul>
        </slide>
        <slide>
            <p>
               <a href="/share/peg/testing/MN-R/VW_TrafficSigns/D64_Speed_Restrictions_on_Road_versus_Traffic_Sign_Speed_Restr.xls">Statistics results</a> 
               <div style="float: center"><img src="img/Traffic_Sign_along_Road_Element.bmp"/></div>          
            </p>
            <ul>                
                <em style="color: grey">
                <li>Sprint June/July:</li>
                    <ul>
                       <li>Official TTOM model release and final Mapping document</li>
                       <li>Finalize TIF2TTOM converter</li>
                       <li>Implement MNR layer processors to create Traffic Sign layers</li>
                       <li>Deliver pilot MNR Product</li>
                    </ul>
                </em>
            </ul>
        </slide>
    </story>

    <story epic="[MNR CONTINENT]" title="Complete 'TTOM' seaming scope" status="done" sp="2">
        <slide>
            <div style="float: right"><img src="img/zone3.jpg"/></div>            
            <ul>
                <em style="color: grey">
                <li>Sprint April:</li>
                    <p>Aligning of network element direction on dataset border and synchronization of id's</p>
                </em>
                <li>Current Sprint:</li>
                    <p>Analyze border features before combining attributes</p>
                     <ul>
                        <li>We <strong>converted 6 large zones</strong> consisting of multiple, adjacent, datasets.</li>
                        <li>We <strong>analysed</strong> any problems we encountered while doing the seaming.</li>
                        <li>We published <a href="http://vos.intra.local/display/CPEMPE/TTOM+Seamed+data#TTOMSeameddata-tl%3Bdroverview">the results</a> on confluence.</li>
                    </ul>
                    <p>Three types of cases:</p>
                    <ul>
                        <li><em>Must be fixed by TIF2TTOM Converter : eg. Postal Code</em></li>
                        <li><em>Data issue, but can be fixed by TIF2TTOM Converter : eg. Junction Type</em></li>
                        <li><em><strong>Data issue:</strong> eg. Speed Restriction</em></li>
                    </ul>
            </ul>
        </slide>
        <slide>
            <a href="img/attributes.png"><img src="img/attributes.png" /></a>
        </slide>
    </story>

    <story epic="[MNR INFRA]" title="Upgrade layers processors: improve scalability and enable writing multiple files" status="done" sp="5">
        <slide>
            <ul>
                <li>We use the Product Create Job API.</li>
                <li>Relies on the concept of layers (network, admin, water, ...).</li>
                <li>One layer is populated by one 'LayerProcessor' (Java interface).</li>
                <li>One LayerProcessor could not write to another.</li>
                <li>For a relational product, this results in a lot of LayerProcessors, for example:</li>
                <li>
                    <img src="img/lps.png" />
                </li>
                <li>So there was no way to merge all of the above into one LayerProcessor.</li>
            </ul>
        </slide>
        <slide>
            <p>Okay, so we could not do this:</p>
            <img src="img/lp_other.jpg" />
            <p>And this resulted in a lot of overhead:</p>
            <ul>
                <li>more code</li>
                <li>more unit-testing</li>
                <li>more maintenance</li>
                <li>more bugs</li>
            </ul>
        </slide>
        <slide>
            <p>
                Another challenge was that...
            </p>
            <ul>
                <li>Each LayerProcessor only had one instance.</li><p />
                <li>This means that an entire layer is created in one process, sequentially.</li><p />
                <li>This was becoming a bottleneck (DEU road network took more than one day)</li><p />
            </ul>
            <p />
        </slide>
        <slide>
            <p>
                So one LayerProcessor input looked like this:
            </p>
            <img src="img/nonsplit_lps.jpg" />
            <p>
                This resulted in:
            </p>
            <ul>
                <li>Sub-awesome usage of our Hadoop infrastructure.</li>
                <li>Bad processing times</li>
                <li>Single point of failure</li>
            </ul>
        </slide>
        <slide>
            <p>We tackled these two problems as one:</p>
            <p align="center">Each LayerProcessor can write to each file.</p>
            <img src="img/lp_other_ok.jpg" />
            <p align="center">Input data is chunked into 64MB pieces and fed to different instances.</p>
            <img src="img/split_lps.jpg" />
        </slide>
        <slide>
            <p align="center">Before</p>
            <img src="img/before.jpg" />
        </slide>
        <slide>
            <p align="center">After</p>
            <img src="img/after.jpg" />
        </slide>
    </story>

    <story epic="[MNR MACHSPEC]" title="Implement new DITA feature requests" status="not-done" sp="2">
        <slide>
            <h5>Goal:</h5>
            <ul>
                <li>Automate the generation of online specification documentation based on DITA, every time new DITA becomes available</li>
                <li>Improve logging clarity</li>
                <li>Export xmi file along with model.xml to output location</li>
            </ul>
            <h5>Done:</h5>
            <ul>
                <li>Created script to automatically run Oxygen and generate the online documentation, both internal and external versions.</li>
            </ul>
            <h5>Todo:</h5>
            <ul>
                <li>Automate calling the script in Jenkins</li>
                <li>Logging updates</li>
                <li>Xmi updates</li>
            </ul>
            <h5>Impediments:</h5>
            <ul>
                <li>Problems with write access rights</li>
                <li>Need a license for Oxygen</li>
            </ul>
        </slide>
    </story>

    <story epic="[MN SUP]" title="Setup testrun and support TIF2MN process for South Korea" status="done" sp="1">
        <slide>
            <div style="float: right"><img src="img/South-Korea.gif"/></div>
            <ul>
                <li>A complete TIF2MN environment has been deployed in South Korea:
                    <ul>
                        <li>Oracle server</li>
                        <li>Linux VM's for running TIF2MN conversions</li>
                        <li>Windows VM for creating MS Access databases (statistics)</li>
                    </ul>
                </li>
                <li>Deployment was <em style="color: red">performed partly manually</em> (reason: NO internet access on machines)</li>
                <li>Successful conversions of datasets AND and BEL proove we're ready for production!</li>
                <li><em style="color: red">No actions have been taken (yet) to enable fully automatic deployment</em> (so quarterly toolbox installations will require more engineering support)</li>
            </ul>
        </slide>
    </story>

    <story epic="[MNR INFRA]" title="Setup and performance testing of development environment" status="not-done" sp="2">
        <slide>
            <p>Done:</p>
            <ul>
                <li>Installation of Postgres/Postgis/Geoserver on new machine besrvud-mnr01 (16 cores / 32 threads, 128GB memory, 5TB+ storage)</li>
                <li>Automated deployment of oracle servers on virtualboxes
                    <ul>
                        <li>Automated through Puppet (using our own Puppet master server)</li>
                        <li>Oracle 11, 12 and XE supported</li>
                        <li>Grid and ASM enabled for Oracle 11 and 12</li>
                    </ul>
                </li>
            </ul>
            <p>To do:</p>
            <ul>
                <li>performance testing of a large continent</li>
            </ul>
        </slide>
    </story>

    <story epic="" title="Non planned sprint work" status="done" sp="">
        <slide>
            <p>High priority support work for TIF2TTOM/TIF2MN</p>
            <ul>
                <li>optimizing TIF2X infrastructure (ideas from Oracle 11 migration project)</li>
                <li>analysis of customer complaint about incorrect geometry (which appeared to be a non-issue)</li>
                <li>impact of extension of TIF ID slots</li>
            </ul>
            <p>What's next?</p>
            <ul>
                <li>BIG demo of all (MNR) realisations of the last 6 months!</li>
            </ul>
        </slide>
    </story>

    <initscript>
    </initscript>

</slides>
